# Lex Program for Identifying Numbers, Decimals, and Characters

This Lex program is designed to identify numbers, decimal numbers, and other characters from an input stream. It will print specific messages when it encounters these tokens and will ignore whitespace characters such as spaces, tabs, and newlines.

In this detailed markdown, we’ll break down how the program works and explain the various components and functionalities.

## Lex Program Structure Recap

As previously mentioned, Lex programs follow a specific structure divided into three sections:

1. **Declarations Section**: Contains any required header files or declarations.
2. **Rules Section**: Contains regular expressions (patterns) and corresponding actions.
3. **User Code Section**: Contains the main function and any additional C functions needed.

In this Lex program, the goal is to identify numbers, decimal numbers, whitespace (which is ignored), and unknown characters. Let's go through the code in detail.

## The Lex Program

Here’s the Lex program you provided:

```lex
%{
#include <stdio.h>  // Include standard I/O library
%}

%%
// Define the patterns and corresponding actions

[0-9]+              { printf("Number: %s\n", yytext); }
[0-9]+"."[0-9]+     { printf("Decimal Number: %s\n", yytext); }
[ \t\n]+            ;  // Ignore whitespace (spaces, tabs, newlines)
.                   { printf("Unknown character: %s\n", yytext); }

%%

// Main function to invoke the lexer
int main(void) {
    yylex();  // Start the lexical analysis
    return 0;  // Exit
}

// The yywrap function indicates the end of input
int yywrap(void) {
    return 1;  // Indicates end of input
}
```

### Section 1: Declarations

```lex
%{
#include <stdio.h>
%}
```

- **Purpose**: The `%{ ... %}` block is the **Declarations Section**, which is copied directly into the generated C file. 
- **`#include <stdio.h>`**: This includes the **standard input-output library** (`stdio.h`), enabling the use of the `printf()` function within the Lex actions.

### Section 2: Rules Section

The second section (`%% ... %%`) is where Lex patterns (regular expressions) are defined. These patterns describe the tokens to look for in the input, and the associated actions specify what happens when a pattern is matched.

```lex
[0-9]+              { printf("Number: %s\n", yytext); }
[0-9]+"."[0-9]+     { printf("Decimal Number: %s\n", yytext); }
[ \t\n]+            ;  // Ignore whitespace (spaces, tabs, newlines)
.                   { printf("Unknown character: %s\n", yytext); }
```

#### Breakdown of the Rules:

1. **Pattern: `[0-9]+`**
   - **Explanation**: This pattern matches one or more digits (0-9). 
   - **Action**: When a number is found, it prints "Number: " followed by the matched number using `yytext`.
   - **`yytext`**: This is a Lex global variable that stores the matched text for the current token.

   Example: If the input is `12345`, the output will be:
   ```
   Number: 12345
   ```

2. **Pattern: `[0-9]+"."[0-9]+`**
   - **Explanation**: This pattern matches a decimal number, which consists of one or more digits (`[0-9]+`), followed by a period (`"."`), and then another set of one or more digits. This captures standard decimal numbers like `12.34`.
   - **Action**: When a decimal number is found, it prints "Decimal Number: " followed by the matched text.

   Example: If the input is `123.45`, the output will be:
   ```
   Decimal Number: 123.45
   ```

   **Note**: The double quotes around the period `"."` ensure that the period is treated as a literal character in the regular expression, rather than as a special regex symbol.

3. **Pattern: `[ \t\n]+`**
   - **Explanation**: This pattern matches one or more whitespace characters, which include spaces (` `), tabs (`\t`), and newlines (`\n`).
   - **Action**: No action is taken (`;` is used as a null action), meaning the program simply ignores any whitespace characters it encounters in the input.
   
   This is important because it ensures that the lexical analyzer skips over any unnecessary whitespace without printing anything.

4. **Pattern: `.`**
   - **Explanation**: This pattern matches any single character that is not already matched by previous rules. The dot (`.`) is a special regex symbol that represents any single character.
   - **Action**: For any unmatched characters (i.e., characters that are neither numbers nor decimals nor whitespace), the program prints "Unknown character: " followed by the character.

   Example: If the input is `&`, the output will be:
   ```
   Unknown character: &
   ```

### Section 3: User Code Section

```c
int main(void) {
    yylex();  // Start lexical analysis
    return 0;
}

int yywrap(void) {
    return 1;  // Indicates the end of input
}
```

#### **`main()` Function:**

- **`yylex()`**: This function is generated by Lex. It reads the input, applies the defined patterns, and executes the corresponding actions. 
- The `main()` function calls `yylex()` to begin the lexical analysis, and then returns `0` to signal the program's successful termination.

#### **`yywrap()` Function:**

- **Purpose**: `yywrap()` is called by `yylex()` when the end of the input is reached. 
- In this simple case, it just returns `1`, signaling the end of the input. By default, Lex expects `yywrap()` to be defined for proper input handling.

## How This Lex Program Works

1. The program scans the input and identifies:
   - **Integers**: Strings of digits like `123` or `456`.
   - **Decimal numbers**: Numbers with a decimal point like `3.14` or `123.456`.
   - **Whitespace**: Spaces, tabs, and newlines are ignored.
   - **Other characters**: Any character that doesn't match the above patterns is considered "unknown" and gets printed.

### Sample Input/Output:

**Input**:
```
123
45.67
&*abc 89
```

**Output**:
```
Number: 123
Decimal Number: 45.67
Unknown character: &
Unknown character: *
Unknown character: a
Unknown character: b
Unknown character: c
Number: 89
```

### Explanation of the Output:

- `123` is recognized as a number, so "Number: 123" is printed.
- `45.67` is recognized as a decimal number, so "Decimal Number: 45.67" is printed.
- `&`, `*`, `a`, `b`, and `c` are unknown characters, so they each trigger the "Unknown character" message.
- `89` is recognized as a number, so "Number: 89" is printed.

## Compiling and Running the Lex Program

1. **Save the Lex file** with an appropriate name, e.g., `numbers.l`.
2. **Compile** the program using the following commands:

```bash
lex numbers.l    # This generates lex.yy.c
gcc lex.yy.c -o numbers -ll  # Compiles and links the Lex library
```

3. **Run** the program:

```bash
./numbers
```

Then, provide input directly or redirect input from a file to observe the lexical analysis.

## Summary

- **Lexical Analysis**: This Lex program breaks down an input stream to identify integers, decimal numbers, whitespace (ignored), and unknown characters.
- **Regular Expressions**: The rules section uses regular expressions to match patterns for these tokens.
- **Actions**: Actions (written in C) are associated with each pattern and dictate what happens when a pattern is matched (e.g., printing the token type).
- **`yytext`**: The Lex global variable `yytext` holds the text matched by the current pattern.
- **Compiling and Running**: You can compile and run this program using `lex` and `gcc` to analyze input text interactively.